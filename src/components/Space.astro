---
import { Image } from 'astro:assets'
import Space1 from '@assets/espacio1.webp'
import Space2 from '@assets/espacio2.webp'
import Space3 from '@assets/espacio3.webp'
---
<section class="flex flex-col mt-10">
    <h2 class="mx-5 text-2xl font-bold text-teal-700 mb-5 md:text-5xl md:mx-0">Espacio de trabajo</h2>
    <div class="hidden bg-teal-700 p-5 md:flex md:flex-row gap-5 md:rounded-md md:mx-5">
        <div data-index="0" class="item basis-1/3 h-[600px] flex justify-center">
            <Image class='object-cover rounded-xl h-[600px] cursor-pointer' src={Space1} alt="Espacio de trabajo 1"/>
        </div>
        <div data-index="1" class="item basis-1/3 h-[600px] flex justify-center">
            <Image class='object-cover rounded-xl h-[600px] cursor-pointer' src={Space2} alt="Espacio de trabajo 2"/>
        </div>
        <div data-index="2" class="item basis-1/3 h-[600px] flex justify-center">
            <Image class='object-cover rounded-xl h-[600px] cursor-pointer' src={Space3} alt="Espacio de trabajo 3"/>
        </div>
    </div>
    <div class="flex flex-col bg-teal-700 p-5 md:hidden">
        <Image class="rounded-t-xl" src={Space1} alt="Espacio de trabajo 1"/>
        <Image src={Space2} alt="Espacio de trabajo 2"/>
        <Image class="rounded-b-xl" src={Space3} alt="Espacio de trabajo 3"/>
    </div>
</section>

<style>
    .item{
        transition: all 500ms ease-in-out;
    }
</style>

<script>
    function resize(index){
        document.querySelectorAll('.item').forEach((el) => {
            el.classList.remove('basis-1/3', 'basis-2/3')
            if(el.getAttribute('data-index') === index){
                el.classList.add('basis-2/3')
            }else{
                el.classList.add('basis-1/3')
            }
        })
    }

    function reset(){
        document.querySelectorAll('.item').forEach((el) => {
            el.classList.remove('basis-2/3')
            el.classList.add('basis-1/3')
        })
    }

    document.querySelectorAll('.item').forEach((el) => {
        el.addEventListener('mouseover', function(){
            resize(el.getAttribute('data-index'))
        })
        el.addEventListener('mouseout', function(){
            reset()
        })
    })
</script>