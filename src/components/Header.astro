---
const menu = [
    {
        label: 'Inicio',
        href: '/#'
    },
    {
        label: 'Sobre mí',
        href: '/#sobremi'
    },
    {
        label: 'Terapias',
        href: '/#terapias'
    },
    {
        label: 'Contacto',
        href: '/#contacto'
    },
]
---
<nav id="nav-container" class="bg-white z-10 md:bg-white/90 border-b border-teal-700">
    <div id="nav-contact" class="hidden border-b border-neutral-300 text-sm p-2 text-neutral-700 md:flex md:flex-row">
        <div class="flex flex-row gap-1">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-mail" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z"></path>
                <path d="M3 7l9 6l9 -6"></path>
             </svg>
            <a href="mailto:info@anaalmazo.com">info@anaalmazo.com</a>
        </div>
        <div class="flex flex-row gap-1 ml-5">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-map-pin" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"></path>
                <path d="M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z"></path>
             </svg>
            <a href="https://goo.gl/maps/5FhyeG4Q3VFYaRYLA" target="_blank">José Laguillo 27 Bloque 6 Bajo, Sevilla</a>
        </div>
        <div class="flex flex-row gap-1 ml-auto text-teal-700">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-phone" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"></path>
             </svg>
            <a href="tel:626379548">626 379 548</a>
        </div>
    </div>
    <div class="flex flex-wrap items-center justify-between mx-auto p-4">
      <a href="/#" class="flex items-center">
          <span class="hidden self-center text-3xl whitespace-nowrap text-teal-700 md:block">Ana<span class=" font-extrabold">Almazo</span></span>
          <span class="self-center text-5xl whitespace-nowrap text-teal-700 md:hidden">A<span class=" font-extrabold">A</span></span>
      </a>
      <button id="toggle-button" data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200" aria-controls="navbar-default" aria-expanded="false">
          <span class="sr-only">Open main menu</span>
          <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
          </svg>
      </button>
      <div class="hidden w-full md:block md:w-auto md:border-none" id="navbar-default">
        <ul class="font-medium uppercase flex flex-col p-4 md:p-0 mt-4 md:flex-row md:space-x-8 md:mt-0 md:border-0">
            {
                menu.map(({label, href}) => (
                    <li>
                        <a href={href} class="block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-teal-700 md:p-0">{label}</a>
                    </li>
                ))
            }
        </ul>
      </div>
    </div>
  </nav>
  <style>
    @media (max-width: 768px) {
        #navbar-default {
            animation: growDown 500ms;
            transform-origin: top center;
        }   
    }

    #nav-container.sticky {
        animation: growDown 500ms;
        transform-origin: top center;
    }

    @keyframes growDown {
        0% {
            transform: scaleY(0)
        }
        80% {
            transform: scaleY(1.1)
        }
        100% {
            transform: scaleY(1)
        }
    }
  </style>
  <script>
    const navcontainer = document.getElementById('nav-container')
    const navcontact = document.getElementById('nav-contact')
    const navbar = document.getElementById('navbar-default')
    const button = document.getElementById('toggle-button')
    const links = document.querySelectorAll('#navbar-default a')

    function toggleMenu(){
        navbar.classList.toggle('hidden')    
    }

    button.addEventListener('click', function(){
         toggleMenu()
    })

    links.forEach((link) => {
        link.addEventListener('click', function(){
            toggleMenu()
        })
    })

    window.addEventListener('scroll', function(e){
        // Needs different scrollY points because of an infinte loop
        if(window.scrollY > 100){
            navcontainer.classList.add('top-0', 'sticky')
            navcontact.classList.add('hidden')
            navcontact.classList.remove('md:flex', 'md:flex-row')
        }
        if(window.scrollY < 80){
            navcontainer.classList.remove('top-0', 'sticky')
            navcontact.classList.add('hidden')
            navcontact.classList.add('md:flex', 'md:flex-row')
        }
    })
  </script>